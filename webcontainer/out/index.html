<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><pre class="prettyprint source lang-json"><code>// config.json
{
    &quot;buildEntryPath&quot;: &quot;./src/pages/*/*/*/*/index.js&quot;,
    &quot;proxy&quot;: &quot;http://10.6.240.46:8888/&quot;,
    &quot;buildWithoutHTML&quot;: &quot;uapbd/refer&quot;,
    &quot;devPort&quot;: 3007
}</code></pre><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>buildEntryPath</td>
<td>业务组代码编译路径，可以是Array/String<br>1. 编译所有项目：&quot;./src/*/*/*/*/index.js&quot;<br>2. 编译某项目：&quot;./src/project_name/*/*/*/index.js&quot;<br>3. 编译某项目下某模块：&quot;./src/project_name/module_name/*/*/index.js&quot;<br>4. 编译某项目下某模块下某节点：&quot;./src/project_name/pages/module_name/node_name/*/index.js&quot;<br>5. 编译某项目下某模块下某节点下某页面：&quot;./src/project_name/pages/module_name/node_name/page_name/index.js&quot;</td>
</tr>
<tr>
<td>buildWithoutHTML</td>
<td>路径中含有某些字符串的目录，在开发/打包时不生成html文件，主要用于参照/其他公共组件，因为对于组件来说html没有用。例：'uapbd/refer'或['uapbd/refer','uapbd/refer1']</td>
</tr>
<tr>
<td>proxy</td>
<td>请求代理路径</td>
</tr>
<tr>
<td>devPort</td>
<td>开发环境端口号</td>
</tr>
</tbody>
</table>
<h2>新的编译配置</h2><p>根目录下的new-config.json</p>
<ul>
<li>entry 是入口，根据glob的规则</li>
<li>lib 是refer这类模块的入口，这种入口不需要生成html，也不经常改动，所以不需要监听， 通过script标签引用</li>
<li>proxy 是代理</li>
<li>copy 是需要直接复制的目录</li>
</ul>
<p>启动编译仍然运行  <code>npm run dev</code></p>
<p>启动编译可以执行 <code>npm run devs</code> 命令， 后面可以加参数例如：<code>npm run devs hrhi hrpub</code>，速度是全部编译的一半</p>
<h2>部署到测试环境(172.20.9.80), 使用脚本部署的方式如下：</h2><blockquote>
<p>使用环境：- node 8.11.2  macOS, windows下待测试</p>
</blockquote>
<h3>使用方式</h3><h4>设置免密登陆服务器</h4><ul>
<li>在命令行执行：ssh-copy-id <a href="mailto:root@172.20.9.80">root@172.20.9.80</a></li>
<li>输入密码：Xml3xcq42gid742K</li>
<li>以上两步骤只需要执行一次就可以了</li>
</ul>
<h4>日常部署测试服务器</h4><ul>
<li>执行脚本：npm run publish hrhi</li>
<li>windows 下执行：./publish.sh hrhi</li>
<li>hrhi是src下代表模块的文件夹名称，可不添加</li>
<li>如果没有添加 hrhi 类似的参数，会将所有模块都部署到服务端测试环境</li>
<li>如果添加了，就只部署相关模块</li>
</ul>
<h4>举例说明</h4><ul>
<li>比如：我开发的是 src/hrhi 模块下的某页面，现在需要部署到测试服务器上</li>
<li>我已经设置过免密登陆</li>
<li>在项目根目录执行命令：npm run publish hrhi 即可完成部署 hrhi 模块代码</li>
<li>如果执行 <code>npm run publish</code>，即可部署全部的模块</li>
</ul>
<blockquote>
<p>windows下在<code>git bash</code>里执行：<code>./publish.sh</code></p>
</blockquote>
<h4>同时更新 hrhi hrjf hrwa hrpub</h4><ul>
<li>mac下执行 <code>npm run update</code> 可以同步更新四个模块代码</li>
<li>window下，需要在 <code>git bash</code>里执行 <code>./update.sh</code> 可以同步更新四个模块代码</li>
</ul>
<h4>从6606服务器上更新platform代码</h4><ul>
<li>mac 执行 <code>npm run updatePlatform</code></li>
<li>window下，需要在<code>git bash</code>里执行 <code>./updatePlatform.sh</code></li>
</ul>
<h2>2019年3月14日更新</h2><p>1、可以进行 npm run devs hrwa/wapayment/bankoffer 这种只编译某节点的方式执行</p>
<p>2、由于在第一次编译的时候，如果dist目录下没有平台的包，会进行复制，事件大概会持续几分钟，如果嫌时间长，可以手动把src目录下的平台包，复制到dist目录下</p>
<p>3、npm run devs 不加参数是编译全部入口，由于入口文件较多，会导致监听编译的时候速度较慢，所以建议按照模块或者节点进行编译开发，</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Header.html">Header</a></li><li><a href="orgRefer.html">orgRefer</a></li><li><a href="Pagination.html">Pagination</a></li></ul><h3>Global</h3><ul><li><a href="global.html#allCheckTable">allCheckTable</a></li><li><a href="global.html#data">data</a></li><li><a href="global.html#formatSelectData">formatSelectData</a></li><li><a href="global.html#sortBtns">sortBtns</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Mar 21 2019 16:34:25 GMT+0800 (GMT+08:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>